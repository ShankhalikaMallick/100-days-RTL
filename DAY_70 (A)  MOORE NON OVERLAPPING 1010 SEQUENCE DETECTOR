RTL:

`timescale 1ns / 1ps
//Date : 14/05/2025
//Name : Shankhalika Mallick

// DAY-70 (A) FINITE STATE MACHINE
// MOORE NON OVERLAPPING 1010 SEQUENCE DETECTOR

module MOORE_NO(clk, rst, in, out);
input in,clk,rst;
output reg out;
parameter S0=3'b000;
parameter S1=3'b001;
parameter S2=3'b010;
parameter S3=3'b011;
parameter S4=3'b100;
reg [2:0] state, next_state;
// bit by bit inputs are given . we have to check if it matches sequence 1010

// to check for reset condition: for resetting state
always @(posedge clk)
begin
    if (rst==1)
    state=S0;
    else
    state = next_state; 
end

// to determine next state based on present state and input
always @(posedge clk)
begin

    case (state)
    S0: next_state= in? S1: S1;
    S1: next_state= in? S1: S2;
    S2: next_state= in? S3: S0;
    S3: next_state= in? S1: S4;
    S4: next_state= in? S1: S0; 
    endcase
        
end   

// to determine output based on present state only
always @(posedge clk)
begin
    if(state==S4)
        out=1;
        else out=0;
end
endmodule

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

TESTBENCH:

`timescale 1ps/1ps
 `include "MOORE_NO.v"

module FSM_TB();
reg clk, rst, in;
wire out;

 MOORE_NO ob1(clk, rst, in, out);

initial begin
    $monitor($time," %b\t%b", in,out);
    clk=1'b0;
    rst=1'b1;
    #10; rst=1'b0; in=1;
    #10; in=0;
    #10; in=1;
    #10; in=0;
    #10; in=1; 
    #10; in=0;
    #10; in=1;
    #10; in=0;
    #10; $finish;
end
always 
begin
    #2; clk=~clk;
end
endmodule

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

OUTPUT:

[Running] FSM_TB.v
                   0 x	x
                   2 x	0
                  10 1	0
                  20 0	0
                  30 1	0
                  40 0	0
                  46 0	1
                  50 1	1
                  54 1	0
                  60 0	0
                  70 1	0
                  80 0	0
                  86 0	1
FSM_TB.v:24: $finish called at 90000 (1ps)
[Done] exit with code=0 in 0.19 seconds


